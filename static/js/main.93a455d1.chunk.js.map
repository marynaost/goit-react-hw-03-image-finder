{"version":3,"sources":["components/Modal/Modal.module.scss","components/Button/Button.module.scss","services/apiService.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.scss","components/ImageGallery/ImageGallery.module.scss"],"names":["module","exports","API","fetchImage","searchQuery","page","params","fetch","then","response","ok","json","Promise","reject","Error","Seachbar","state","name","handleNameChange","e","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","s","searchbar","this","form","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","src","largeImageURL","tags","onClick","item","alt","image","ImageGallery","hits","gallery","map","webformatURL","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","modal","App","images","query","status","showModal","handleForSubmit","onFetchImage","length","warn","autoClose","catch","handleButtonClick","handleScroll","prevState","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","handleModalOpen","dataset","onCloseModal","prevProps","prevName","nextName","prevPage","color","height","width","timeout","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.93a455d1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__t58Fs\",\"modal\":\"Modal_modal__1N0L7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__g2oYr\"};","const API_KEY = '24009911-9ac198a76ee72dc693090197c';\r\nconst BASE_URL = `https://pixabay.com/api/`;\r\n\r\nfunction fetchImage(searchQuery, page) {\r\n  const params = `?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  const URL = BASE_URL + params;\r\n\r\n  return fetch(URL).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(\r\n      new Error(`Нема картинок із значенням ${searchQuery}`),\r\n    );\r\n  });\r\n}\r\nconst API = { fetchImage };\r\n\r\nexport default API;\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.scss';\r\n\r\nclass Seachbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    name: '',\r\n  };\r\n\r\n  handleNameChange = e => {\r\n    this.setState({ name: e.target.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.name.trim() === '') {\r\n      return toast.error('Enter the name');\r\n    }\r\n    this.props.onSubmit(this.state.name);\r\n    this.setState({ name: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.form}>\r\n          <button type=\"submit\" className={s.button}>\r\n            <ImSearch />\r\n            <span className={s.label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            value={this.state.name}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Seachbar;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.scss';\r\n\r\nfunction ImageGalleryItem({ src, largeImageURL, tags, onClick }) {\r\n  return (\r\n    <li className={s.item} onClick={onClick}>\r\n      <img src={src} alt={tags} data-src={largeImageURL} className={s.image} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from 'components/ImageGallery/ImageGalleryItem';\r\nimport s from './ImageGallery.module.scss';\r\n\r\nfunction ImageGallery({ hits, onClick }) {\r\n  return (\r\n    <ul className={s.gallery}>\r\n      {hits.map(({ webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={webformatURL}\r\n          src={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          onClick={onClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.scss';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { createPortal } from 'react-dom';\r\nimport { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    alt: PropTypes.string,\r\n    src: PropTypes.string,\r\n    onClose: PropTypes.func,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props;\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>\r\n          <img src={src} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport './App.css';\nimport API from './services/apiService';\nimport Seachbar from 'components/Searchbar/Searchbar';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Button from 'components/Button/Button';\nimport Modal from 'components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    query: '',\n    page: 1,\n    status: 'idle',\n    error: null,\n    showModal: false,\n    src: '',\n    alt: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    const prevName = prevState.query;\n    const nextName = query;\n    const prevPage = prevState.page;\n    const nextPage = page;\n    if (prevName !== nextName || prevPage !== nextPage) {\n      this.onFetchImage();\n    }\n  }\n\n  handleForSubmit = query => {\n    this.setState({ query, images: [], page: 1, status: 'pending' });\n  };\n\n  onFetchImage = () => {\n    const { query, page, images } = this.state;\n\n    API.fetchImage(query, page)\n      .then(({ hits }) => {\n        if (hits.length === 0) {\n          return toast.warn(`We haven't images with the name ${query} `, {\n            autoClose: 3000,\n          });\n        }\n        this.setState({\n          images: [...images, ...hits],\n          status: 'resolved',\n          page,\n        });\n      })\n      .catch(error => this.setState({ error, status: 'rejected' }));\n  };\n\n  handleButtonClick = () => {\n    this.handleScroll();\n    this.setState(prevState => {\n      return {\n        page: prevState.page + 1,\n      };\n    });\n  };\n\n  handleScroll = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight,\n        behavior: 'smooth',\n      });\n    }, 500);\n  };\n\n  handleModalOpen = e => {\n    this.setState({\n      src: e.target.dataset.src,\n      alt: e.target.alt,\n      showModal: true,\n    });\n  };\n\n  onCloseModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  render() {\n    const { status, images, error, src, alt, showModal } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Seachbar onSubmit={this.handleForSubmit} />\n        {status === 'pending' && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        )}\n        {status === 'rejected' && <p> {error.message} </p>}\n        {status === 'resolved' && (\n          <>\n            <ImageGallery hits={images} onClick={this.handleModalOpen} />\n            <Button onClick={this.handleButtonClick} />\n            {showModal && (\n              <Modal onClose={this.onCloseModal} src={src} alt={alt} />\n            )}\n          </>\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__vbsfD\",\"form\":\"Searchbar_form__3-mFo\",\"button\":\"Searchbar_button__sDSB8\",\"label\":\"Searchbar_label__3YUeS\",\"input\":\"Searchbar_input__1aj5w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__3D5IU\",\"item\":\"ImageGallery_item__2XrSB\",\"image\":\"ImageGallery_image__2RaWF\"};"],"sourceRoot":""}